"""Задача 24: В фермерском хозяйстве в Карелии выращивают чернику. 
Она растёт на круглой грядке, причём кусты высажены только по окружности.
Таким образом, у каждого куста есть ровно два соседних. Всего на грядке растёт N кустов.
Эти кусты обладают разной урожайностью, поэтому ко времени сбора на них выросло различное 
число ягод — на i-ом кусте выросло ai ягод.
В этом фермерском хозяйстве внедрена система автоматического сбора черники.
Эта система состоит из управляющего модуля и нескольких собирающих модулей. 
Собирающий модуль за один заход, находясь непосредственно перед некоторым кустом,
собирает ягоды с этого куста и с двух соседних с ним.
Напишите программу для нахождения максимального числа ягод, которое может собрать за один заход собирающий модуль,
находясь перед некоторым кустом заданной во входном файле грядки."""


def max_berries(n, berries):
    max_total = 0
    
    # Для каждого куста вычисляем максимальное количество ягод, которое можно собрать
    for i in range(n):
        # Вычисляем количество ягод, которые можно собрать, находясь перед текущим кустом
        total = berries[i] + min(berries[i-1], berries[(i+1) % n]) 
        
        # Обновляем максимальное количество ягод
        max_total = max(max_total, total)
    
    return max_total

# Считываем количество кустов и количество ягод на каждом кусте
n = int(input("Введите количество кустов черники: "))
berries = list(map(int, input("Введите количество ягод на каждом кусте черники через пробел: ").split()))

# Находим максимальное количество ягод, которое можно собрать за один заход
max_berries_count = max_berries(n, berries)

# Выводим результат
print("Максимальное количество ягод, которое можно собрать за один заход:", max_berries_count)
